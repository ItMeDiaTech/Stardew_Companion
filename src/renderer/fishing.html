<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';">
    <title>Fishing Guide - Stardew Companion</title>
    <style>html, body { background-color: #1e1e1e; }</style>
</head>
<body>
    <div id="app">
        <header class="titlebar">
            <div class="titlebar-drag-region">
                <div class="app-title">Stardew Companion - Fishing Guide</div>
            </div>
            <div class="window-controls">
                <button class="window-button" id="minimize-btn" aria-label="Minimize">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <rect x="0" y="5" width="12" height="2"/>
                    </svg>
                </button>
                <button class="window-button" id="maximize-btn" aria-label="Maximize">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <rect x="0" y="0" width="12" height="12" fill="none" stroke="currentColor" stroke-width="1"/>
                    </svg>
                </button>
                <button class="window-button close-btn" id="close-btn" aria-label="Close">
                    <svg width="12" height="12" viewBox="0 0 12 12">
                        <path d="M 0 0 L 12 12 M 12 0 L 0 12" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                </button>
            </div>
        </header>

        <div id="main-container">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-logo">Stardew Companion</span>
                    <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle Sidebar">
                        <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M0 2h16v2H0V2zm0 5h16v2H0V7zm0 5h16v2H0v-2z"/>
                        </svg>
                    </button>
                </div>

                <nav class="sidebar-nav">
                    <div class="sidebar-section">
                        <div class="sidebar-section-title">Main</div>
                        <a href="index.html" class="nav-link" data-tooltip="Home">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 2L2 7h2v6h3V9h2v4h3V7h2L8 2z"/>
                            </svg>
                            <span class="nav-link-text">Home</span>
                        </a>
                    </div>

                    <div class="sidebar-section">
                        <div class="sidebar-section-title">Game Data</div>
                        <a href="villagers.html" class="nav-link" data-tooltip="Villagers">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 8c1.7 0 3-1.3 3-3S9.7 2 8 2 5 3.3 5 5s1.3 3 3 3zm0 2c-2.3 0-7 1.2-7 3.5V15h14v-1.5C15 11.2 10.3 10 8 10z"/>
                            </svg>
                            <span class="nav-link-text">Villagers</span>
                        </a>
                        <a href="shops.html" class="nav-link" data-tooltip="Shops">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M14 2H2L1 6v1c0 1.1.9 2 2 2 .4 0 .7-.1 1-.3.3.2.6.3 1 .3s.7-.1 1-.3c.3.2.6.3 1 .3s.7-.1 1-.3c.3.2.6.3 1 .3s.7-.1 1-.3c.3.2.6.3 1 .3 1.1 0 2-.9 2-2V6l-1-4zm-1 5c0 .6-.4 1-1 1s-1-.4-1-1V5h2v2zm-3-2v2c0 .6-.4 1-1 1s-1-.4-1-1V5h2zm-3 0v2c0 .6-.4 1-1 1s-1-.4-1-1V5h2zm-3 0v2c0 .6-.4 1-1 1s-1-.4-1-1V5h2zm11 4H2v6h12V9z"/>
                            </svg>
                            <span class="nav-link-text">Shops</span>
                        </a>
                        <a href="calendar.html" class="nav-link" data-tooltip="Calendar">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M4 1v1H2v12h12V2h-2V1h-2v1H6V1H4zm8 3v1h2v1H2V5h2V4h8v0zM2 8h12v5H2V8z"/>
                            </svg>
                            <span class="nav-link-text">Calendar</span>
                        </a>
                        <a href="items.html" class="nav-link" data-tooltip="Items">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M1 1v6h6V1H1zm8 0v6h6V1H9zM1 9v6h6V9H1zm8 0v6h6V9H9z"/>
                            </svg>
                            <span class="nav-link-text">Items</span>
                        </a>
                        <a href="fishing.html" class="nav-link active" data-tooltip="Fishing">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M14 4c0-1.1-.9-2-2-2s-2 .9-2 2c0 .7.4 1.4 1 1.7V7l-3 3-3-3V5.7c.6-.3 1-1 1-1.7 0-1.1-.9-2-2-2s-2 .9-2 2c0 .7.4 1.4 1 1.7V8l4 4v2c-.6.3-1 1-1 1.7 0 1.1.9 2 2 2s2-.9 2-2c0-.7-.4-1.4-1-1.7v-2l4-4V5.7c.6-.3 1-1 1-1.7z"/>
                            </svg>
                            <span class="nav-link-text">Fishing</span>
                        </a>
                        <a href="crafting.html" class="nav-link" data-tooltip="Crafting">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M14 0H2L0 4v1h2l1 9h10l1-9h2V4L14 0zM2 3l1-2h10l1 2H2z"/>
                            </svg>
                            <span class="nav-link-text">Crafting</span>
                        </a>
                        <a href="cooking.html" class="nav-link" data-tooltip="Cooking">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 1c-2.2 0-4 1.8-4 4 0 1.4.7 2.6 1.8 3.3L5 14h6l-.8-5.7c1.1-.7 1.8-1.9 1.8-3.3 0-2.2-1.8-4-4-4zM3 5c0-.6.1-1.1.3-1.6L1.4 2 .6 3l1.9 1.4C2.2 4.6 2 4.8 2 5H3zm10 0h1c0-.2-.2-.4-.5-.6L15.4 3l-.8-1-1.9 1.4c.2.5.3 1 .3 1.6z"/>
                            </svg>
                            <span class="nav-link-text">Cooking</span>
                        </a>
                        <a href="stats.html" class="nav-link" data-tooltip="Stats Guide">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M2 14V2h2v12H2zm4 0V6h2v8H6zm4 0V4h2v10h-2zm4 0V8h2v6h-2z"/>
                            </svg>
                            <span class="nav-link-text">Stats Guide</span>
                        </a>
                    </div>

                    <div class="sidebar-section">
                        <div class="sidebar-section-title">Tools</div>
                        <a href="profit-calculator.html" class="nav-link" data-tooltip="Profit Calculator">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 0C6.3 0 5 1.3 5 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm0 5c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm6 3h-2.5l-1.4 1.4c.6.4 1 1.1 1 1.9V14h3V8zm-11.1 1.4L1.5 8H1c-.6 0-1 .4-1 1v5h3v-2.7c0-.8.4-1.5 1-1.9L2.9 9.4zm7.2-.3L8 11.2 5.9 9.1c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l2.1 2.1v2.4h2.8v-2.4l2.1-2.1c.4-.4.4-1 0-1.4s-1-.4-1.4 0z"/>
                            </svg>
                            <span class="nav-link-text">Profit Calculator</span>
                        </a>
                        <a href="gift-lookup.html" class="nav-link" data-tooltip="Gift Lookup">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                            </svg>
                            <span class="nav-link-text">Gift Lookup</span>
                        </a>
                    </div>

                    <div class="sidebar-section">
                        <div class="sidebar-section-title">Personal</div>
                        <a href="notes.html" class="nav-link" data-tooltip="Notes">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M2 2v12h12V2H2zm11 11H3V3h10v10zM4 5h8v1H4V5zm0 2h8v1H4V7zm0 2h5v1H4V9z"/>
                            </svg>
                            <span class="nav-link-text">Notes</span>
                        </a>
                        <a href="tasks.html" class="nav-link" data-tooltip="Daily Tasks">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M14 2H2v12h12V2zM6 12L3 9l1-1 2 2 4-4 1 1-5 5z"/>
                            </svg>
                            <span class="nav-link-text">Daily Tasks</span>
                        </a>
                    </div>
                </nav>

                <div class="sidebar-footer">
                    <span id="sidebar-version"></span>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 1L6 3l2 2 2-2-2-2zm0 4L6 7l2 2 2-2-2-2zm0 4L6 11l2 2 2-2-2-2z"/>
                    </svg>
                </div>
            </aside>

        <main class="content">
            <div class="fishing-container">
                <div class="fishing-header">
                    <h1>Stardew Valley Fishing Guide</h1>
                    <p>Complete fish database, equipment reference, and tips for catching every fish</p>
                </div>

                <!-- Tabs -->
                <div class="tab-container">
                    <button class="tab-btn active" data-tab="fish">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M14 8c0-2-3-4-6-4S2 6 2 8s3 4 6 4 6-2 6-4zM4 8c0-.5 1.5-2 4-2s4 1.5 4 2-1.5 2-4 2-4-1.5-4-2z"/>
                        </svg>
                        Fish (<span id="fish-count">0</span>)
                    </button>
                    <button class="tab-btn" data-tab="equipment">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M14 4c0-1.1-.9-2-2-2s-2 .9-2 2c0 .7.4 1.4 1 1.7V7l-3 3-3-3V5.7c.6-.3 1-1 1-1.7 0-1.1-.9-2-2-2s-2 .9-2 2c0 .7.4 1.4 1 1.7V8l4 4v2c-.6.3-1 1-1 1.7 0 1.1.9 2 2 2s2-.9 2-2c0-.7-.4-1.4-1-1.7v-2l4-4V5.7c.6-.3 1-1 1-1.7z"/>
                        </svg>
                        Equipment
                    </button>
                    <button class="tab-btn" data-tab="tips">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                            <path d="M8 1C4.7 1 2 3.7 2 7c0 2.4 1.4 4.4 3.5 5.4V14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1v-1.6C12.6 11.4 14 9.4 14 7c0-3.3-2.7-6-6-6zm2 12H6v-1h4v1zm.5-3.4l-.5.3V11H6V9.9l-.5-.3C4 8.6 3 7.4 3 6c0-2.8 2.2-5 5-5s5 2.2 5 5c0 1.4-1 2.6-2.5 3.6z"/>
                        </svg>
                        Tips & Strategy
                    </button>
                </div>

                <!-- Fish Tab Content -->
                <div id="fish-tab" class="tab-content active">
                    <div class="fish-controls">
                        <div class="search-box">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M11.7 10.3c.9-1.2 1.4-2.7 1.4-4.3 0-3.9-3.1-7-7-7s-7 3.1-7 7 3.1 7 7 7c1.6 0 3.1-.5 4.3-1.4l4.3 4.3 1.4-1.4-4.4-4.2zM6 11c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5z"/>
                            </svg>
                            <input type="text" id="search-input" placeholder="Search fish..." />
                        </div>

                        <div class="filters-row">
                            <select id="location-filter" class="filter-select">
                                <option value="all">All Locations</option>
                                <option value="ocean">Ocean</option>
                                <option value="river">River</option>
                                <option value="lake">Lake</option>
                                <option value="pond">Pond</option>
                                <option value="mine">The Mines</option>
                                <option value="desert">Desert</option>
                                <option value="island">Ginger Island</option>
                                <option value="night-market">Night Market</option>
                                <option value="secret-woods">Secret Woods</option>
                                <option value="sewers">Sewers</option>
                            </select>

                            <select id="season-filter" class="filter-select">
                                <option value="all">All Seasons</option>
                                <option value="Spring">Spring</option>
                                <option value="Summer">Summer</option>
                                <option value="Fall">Fall</option>
                                <option value="Winter">Winter</option>
                            </select>

                            <select id="weather-filter" class="filter-select">
                                <option value="all">Any Weather</option>
                                <option value="sunny">Sunny Only</option>
                                <option value="rainy">Rainy Only</option>
                            </select>

                            <select id="difficulty-filter" class="filter-select">
                                <option value="all">All Difficulty</option>
                                <option value="easy">Easy (0-40)</option>
                                <option value="medium">Medium (41-70)</option>
                                <option value="hard">Hard (71-100)</option>
                                <option value="legendary">Legendary (100+)</option>
                            </select>

                            <select id="type-filter" class="filter-select">
                                <option value="all">All Types</option>
                                <option value="standard">Standard Fish</option>
                                <option value="legendary">Legendary Fish</option>
                                <option value="crabpot">Crab Pot Catches</option>
                            </select>
                        </div>
                    </div>

                    <div id="fish-grid" class="fish-grid">
                        <!-- Fish cards will be inserted here by JavaScript -->
                    </div>
                </div>

                <!-- Equipment Tab Content -->
                <div id="equipment-tab" class="tab-content">
                    <div class="equipment-section">
                        <h2>Fishing Rods</h2>
                        <p class="section-desc">Upgrade your rod to use bait and tackle for better fishing</p>
                        <div id="rods-grid" class="equipment-grid">
                            <!-- Rod cards will be inserted here -->
                        </div>
                    </div>

                    <div class="equipment-section">
                        <h2>Bait</h2>
                        <p class="section-desc">Bait reduces time between bites - attach to Fiberglass Rod or better</p>
                        <div id="bait-grid" class="equipment-grid">
                            <!-- Bait cards will be inserted here -->
                        </div>
                    </div>

                    <div class="equipment-section">
                        <h2>Tackle</h2>
                        <p class="section-desc">Tackle provides special effects - requires Iridium Rod</p>
                        <div id="tackle-grid" class="equipment-grid">
                            <!-- Tackle cards will be inserted here -->
                        </div>
                    </div>

                    <div class="equipment-section">
                        <h2>Fishing Professions</h2>
                        <p class="section-desc">Choose your profession path at levels 5 and 10</p>
                        <div id="professions-grid" class="professions-grid">
                            <!-- Profession cards will be inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Tips Tab Content -->
                <div id="tips-tab" class="tab-content">
                    <div id="tips-container" class="tips-container">
                        <!-- Tips will be inserted here by JavaScript -->
                    </div>
                </div>

                <!-- Fish Detail Modal -->
                <div id="fish-modal" class="modal" style="display: none;">
                    <div class="modal-content fish-modal-content">
                        <div class="modal-header">
                            <div>
                                <h2 id="modal-fish-name"></h2>
                                <div class="modal-badges">
                                    <span id="modal-fish-behavior" class="behavior-badge"></span>
                                    <span id="modal-fish-legendary" class="legendary-badge" style="display: none;">Legendary</span>
                                    <span id="modal-fish-crabpot" class="crabpot-badge" style="display: none;">Crab Pot</span>
                                </div>
                            </div>
                            <button class="modal-close" id="modal-close-btn">&times;</button>
                        </div>
                        <div class="modal-body">
                            <p id="modal-fish-description" class="fish-description"></p>

                            <div class="fish-stats-grid">
                                <div class="stat-item">
                                    <span class="stat-label">Sell Price</span>
                                    <span id="modal-sell-price" class="stat-value gold"></span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Difficulty</span>
                                    <span id="modal-difficulty" class="stat-value"></span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Size Range</span>
                                    <span id="modal-size" class="stat-value"></span>
                                </div>
                                <div class="stat-item" id="modal-level-req-container" style="display: none;">
                                    <span class="stat-label">Required Level</span>
                                    <span id="modal-level-req" class="stat-value"></span>
                                </div>
                            </div>

                            <div class="difficulty-bar-container">
                                <span class="difficulty-label">Difficulty:</span>
                                <div class="difficulty-bar">
                                    <div id="modal-difficulty-fill" class="difficulty-fill"></div>
                                </div>
                                <span id="modal-difficulty-value" class="difficulty-value"></span>
                            </div>

                            <div class="fish-locations-section">
                                <h3>Where to Catch</h3>
                                <div id="modal-locations" class="locations-list">
                                    <!-- Location entries will be inserted here -->
                                </div>
                            </div>

                            <div id="modal-tip-section" class="fish-tip-section" style="display: none;">
                                <h3>Catch Tip</h3>
                                <p id="modal-catch-tip"></p>
                            </div>

                            <div id="modal-bundles-section" class="fish-bundles-section" style="display: none;">
                                <h3>Used In Bundles</h3>
                                <div id="modal-bundles" class="bundles-list"></div>
                            </div>

                            <div id="modal-recipes-section" class="fish-recipes-section" style="display: none;">
                                <h3>Used In Recipes</h3>
                                <div id="modal-recipes" class="recipes-list"></div>
                            </div>

                            <div id="modal-trap-bobber" class="trap-bobber-note" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                    <path d="M8 1C4.7 1 2 3.7 2 7c0 2.4 1.4 4.4 3.5 5.4V14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1v-1.6C12.6 11.4 14 9.4 14 7c0-3.3-2.7-6-6-6z"/>
                                </svg>
                                <span>Trap Bobber recommended for this fish!</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        </div>

        <footer class="statusbar">
            <div class="status-left" id="fish-status">Loading fish...</div>
            <div class="status-right" id="filter-status">Showing: All Fish</div>
        </footer>
    </div>
</body>
</html>
